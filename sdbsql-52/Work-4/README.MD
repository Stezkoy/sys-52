# Домашнее задание к занятию "`Репликация и масштабирование. Часть 2`" - `Александр М.`

### Задание 1

Опишите основные преимущества использования масштабирования методами:

- активный master-сервер и пассивный репликационный slave-сервер; 
- master-сервер и несколько slave-серверов;


#### Ответ

- активный master-сервер и пассивный репликационный slave-сервер; 
```
Master пишет данные, slave только читает. 
Если master упадёт, можно быстро переключиться на slave.
Легкость в настройке и требует минимум серверов. 
Бэкапы можно делать со slave что позволит снизить нагрузку на master.

```
- master-сервер и несколько slave-серверов;
```
Запросы можно раскидывать на несколько slave, распределение нагрузки между slave. 
Можно разворавивать рядом с клиентами для уменьшение задержек. 
При выходе из строя одного, остальные продолжат свою работу.
```

---

### Задание 2


Разработайте план для выполнения горизонтального и вертикального шаринга базы данных. База данных состоит из трёх таблиц: 

- пользователи, 
- книги, 
- магазины (столбцы произвольно). 

Опишите принципы построения системы и их разграничение или разбивку между базами данных.

*Пришлите блоксхему, где и что будет располагаться. Опишите, в каких режимах будут работать сервера.* 

#### Ответ

##### Горизонтальный шардинг
```
- Пользователей делим на 3 части:
Users 01 от 1 до 10000.

Users 02 от 10001 до 20000.

Users 03 от 20001 и далее.
```
##### Вертикальный шардинг
```
- Сервер Server - 1,
Хранит только таблицу users и отвечает за все операции с пользователями.

- Сервер Server - 2,
Таблица books отвечает за каталог книг и делим по алафавиту.
таблицу stores отвечает за информацию о магазинах - городам (Екатеринбург, Москва, Ленинград).
```

Master - оновной сервер который принемает все зименения и записывает их
Slave - работает только для чтения и копирования с master

![Название скриншота 2](img/diag.svg)


---
<details>
<summary>На будущее</summary>
### Задание 3*

Выполните настройку выбранных методов шардинга из задания 2.

*Пришлите конфиг Docker и SQL скрипт с командами для базы данных*.

[Docker Compose](docker_shard)

```
Поле для вставки кода...
....
....
....
....
```

`При необходимости прикрепитe сюда скриншоты
![Название скриншота](ссылка на скриншот)`
</details>